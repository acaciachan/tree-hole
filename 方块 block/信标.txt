信标tick：

	lastCheckY：当前正在检查的高度
	checkingBeamSections： 当前正在检查临时存储的光束段列表
	blockPos2：正在检查的方块
	
	如果 lastCheckY 低于信标
		checkingBeamSections 重置为空列表
		lastCheckY = 信标坐标y - 1
	否则：
		blockPos2 = 信标位置的 lastCheckY + 1 高度的方块
	
	BeaconBeamOwner.Section section = checkingBeamSections为空 ? null : checkingBeamSections的最后一个元素
	
	最多尝试10次，直到 blockPos2 <= 世界表面高度图：
		blockState2 = blockPos2
		如果 blockState2 为信标染色方块（染色玻璃类）：
			n = blockState2的颜色数字
			如果：checkingBeamSections.size() <= 1
				section = BeaconBeamOwner.Section(n)
				checkingBeamSections.add(section)
			否则如果：section != null
				如果：n == section.getColor()
					section.increaseHeight()
				否则：
					section = new BeaconBeamOwner.Section(ARGB.average(section.getColor(), n));
					checkingBeamSections.add(section);
		否则(blockState2不为信标染色方块)：
			如果：section = null || blockState2的遮光度 >=15 && blockState2不是基岩
				checkingBeamSections.clear();
				lastCheckY = 世界表面;
				打断for循环
			section.increaseHeight()
	
	如果此gametick整除80，那么：
		如果 信标有光柱：
			检测底座，返回信标等级（0~4）
		
		如果 信标等级 > 0 && beamSections不为空 ：
			给玩家添加效果：
				距离 d = 层数 * 10 + 10 m
				时间 t = (9+层数*2)*20 tick = 9+层数*2 秒 (11, 13, 15, 17秒)
				j = (信标等级 >= 4 && 主效果和副效果相同) ? 1 :0
				
				方形范围：
					信标的1x1x1碰撞箱 -> 六方向膨胀d -> 向上膨胀“维度高度(在“维度.json里”)”
				
				对能碰到方形范围的每个玩家：
					添加主效果，时长为t，等级为j（0为一级，1为二级，）
					如果 信标等级>=4 并且副效果存且与主效果不同：
						添加副效果，时长为t，等级为0（一级）
			广播声音
	
	如果lastCheckY >= l
		lastCheckY = 维度最低y(0或-64) - 1
		bl = 之前的信标levels(存储于o)是否大于0
		beamSections = checkingBeamSections
		bl2 = 现在信标levels是否大于0
		
		如果 之前为0 && 现在大于零 ：
			播放效果（BEACON_ACTIVATE）
		否则如果 之前大于0 && 现在为0 ：
			播放声音（BEACON_DEACTIVATE）

检查底座：
	


总结：
	1.	每当gametime整除80时：
		检查底座，根据底座层数设置信标等级
		给玩家添加效果：
			距离 d = 层数 * 10 + 10 m
			时间 t = (9+层数*2)*20 tick = 9+层数*2 秒
			j = (信标等级 >= 4 && 主效果和副效果相同) ? 1 :0
			
			方形范围：
				信标的1x1x1碰撞箱 -> 六方向膨胀d -> 向上膨胀“维度高度(在“维度.json里”)”
			
			对能碰到方形范围的每个玩家：
				添加主效果，时长为t，等级为j（0为一级，1为二级，）
				如果 信标等级>=4 并且副效果存且与主效果不同：
					添加副效果，时长为t，等级为0（一级）
	2.	检查光柱相关：
		2.1	检查范围是从信标位置到高度图的世界表面
		2.2 每次tick最多检查10个方块，检查一个就向上移动一格，直到检查到世界高度会重新开始检查
		2.3 遇到染色方块混色，遇到遮光度>=15的方块（除了基岩）也会导致终止，重新开始检查
			这提示我们如果就在信标上方10m内放置遮光方块，信标下次tick就能反应的过来

快速回血信标：
	生命回复效果仅在当前时间整除(50 >> 效果等级)的时候才会回复1生命度。
	信标每80gt给玩家340gt生命回复，等待40gt后(300gt整除50)第一次回血，
	然而在第二次回血(250gt)之前，信标就在效果倒计时为260gt的时候更新效果，使得药水计时器重置为340gt
	这样子白白浪费了等待的时间，造成理应50gt回一次血因为信标定期更新重置时间，实际80gt回一次血。
	如果不是让信标每80gt更新一次，而是通过规律的阻塞信标使得每2~4倍的时间(160gt,240gt,320gt)更新一次
	可以让减少生命恢复浪费的时间。
	1~4倍周期信标与对应的回血速度：
		正常的80gt为1次回血(1倍速)，
		160gt为3次回血(1.5倍速)，
		240gt三倍为4次回血(1.33倍速)，
		320gt四倍为6次回血(1.5倍速)。
	所以二倍或四倍时间为最佳的1.5倍速(每80gt恢复1.5生命值)，
	而阻塞信标无论是遮断光柱还是破坏底座，都需要活塞规律的遮断。
	KD在2025/03/01 13:24的qq消息为：
		写了个代码测试了一下，如果要求容错（也就是在各种初相位下取回血最慢值），最快回血应该是这几个并列
		周期32gt，上升沿占16gt
		周期64gt，上升沿占16gt
		周期160gt,上升沿占80gt
	而我通过Qwen得出的几个不同频率的信标的“最小阻塞周期”：
		320gt信标，每64gt工作16gt
		240gt信标，每24gt工作16gt
		160gt信标，每32gt工作16gt
	而最后一种“半速更新信标”的方案最简单，
	“注意到”只需要做个16gt的周期的时钟输出短脉冲信标，激活粘性活塞丢方块开关信标即可
	开关信标可以通过推拉底座方块或遮断信标实现。
	注意：信标每tick最多检查信标上方10个方块，经实测上方的最高非空气方块的y小于等于信标y+8时(最多8个方块)，
	信标可以每tick都响应遮光或透光，而无需经过多个tick的接力检查响应。
	
	信标可以通过作弊客户端在原版服务端设置为生命恢复2的信标。
	同样的方法80gt, 160gt, 240gt更新，生命恢复2的都是3倍速(80gt恢复3次血)，
	只有320gt周期更新才会是3.25倍速(4*80gt恢复3*4+1=13滴血)，更新方法同上。